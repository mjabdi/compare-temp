"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7506],{43883:function(e,n,t){var r=t(1717),o=t(31750),s=t(60042),u=t.n(s),c=t(24246),i=["className"];function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}n.Z=function(e){var n=e.className,t=(0,o.Z)(e,i);return(0,c.jsx)("label",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({className:u()("block text-body-dark font-semibold text-sm leading-none mb-3",n)},t))}},10799:function(e,n,t){t.d(n,{o:function(){return c},c:function(){return i}});var r=t(21446),o=t(56552),s=t(39069),u=t(45353),c=function(){var e=(0,o.useQueryClient)();return(0,o.useMutation)((function(e){return u.v.updateCustomer(e)}),{onSettled:function(){e.invalidateQueries("me")}})},i=function(){var e=(0,r.$G)("common").t;return(0,o.useMutation)((function(e){return u.v.contact(e)}),{onSuccess:function(n){n.success?s.Am.success(e(n.message)):s.Am.error(e(n.message))}})}},45353:function(e,n,t){t.d(n,{v:function(){return d}});var r=t(96772),o=t(87988),s=t(54242),u=t(67257),c=t(16933),i=t(13857),a=t(50874);function l(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var o=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}var d=new(function(e){(0,s.Z)(t,e);var n=l(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,o.Z)(t,[{key:"updateCustomer",value:function(e){return this.http.put(this.basePath+"/"+e.id,e).then((function(e){return e.data}))}},{key:"contact",value:function(e){return this.http.post(a.P.CONTACT,e).then((function(e){return e.data}))}},{key:"deleteAddress",value:function(e){var n=e.id;return this.http.delete("".concat(a.P.ADDRESS,"/").concat(n)).then((function(e){return e.data}))}}]),t}(i.b))(a.P.CUSTOMERS)},39300:function(e,n,t){t.d(n,{M:function(){return m}});var r=t(7993),o=t(36838),s=t(27378),u=t(44502),c=t.n(u),i=t(95013),a=t(34806),l=t(43883),d=t(21446),f=(t(47559),t(24246)),m=function(e){var n=e.defaultValue,t=e.onVerify,u=(0,d.$G)("common").t,m=(0,s.useState)(null),p=m[0],v=m[1],b=(0,s.useState)(null!==n&&void 0!==n?n:""),h=b[0],x=b[1],g=(0,s.useState)(""),y=g[0],j=g[1],O=(0,s.useState)(!1),S=O[0],w=O[1],C=(0,s.useState)(""),N=C[0],Z=C[1],k=(0,o.n5)(),P=k.mutate,E=k.isLoading,A=(0,o.MZ)(),M=A.mutate,R=A.isLoading;return(0,f.jsxs)(f.Fragment,{children:[S?(0,f.jsxs)("div",{className:"w-full flex flex-col md:flex-row md:items-center md:space-x-5",children:[(0,f.jsx)(l.Z,{className:"md:mb-0",children:u("text-otp-code")}),(0,f.jsx)(a.Z,{value:y,onChange:function(e){return j(e)},numInputs:6,separator:(0,f.jsx)("span",{className:"hidden sm:inline-block sm:mx-2",children:"-"}),containerStyle:"justify-center space-x-2 sm:space-x-0 mb-5 md:mb-0",inputStyle:"flex items-center justify-center !w-full sm:!w-11 appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0 border border-border-base rounded focus:border-accent h-12",disabledStyle:"!bg-gray-100"}),(0,f.jsx)(r.Z,{loading:E,disabled:E,onClick:function(){P({phone_number:h,code:y,otp_id:N},{onSuccess:function(e){null!==e&&void 0!==e&&e.success?t(h):v(null===e||void 0===e?void 0:e.message),w(!1)},onError:function(e){var n,t;v(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)}})},children:u("text-verify-code")})]}):(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(c(),{country:"us",value:h,onChange:function(e){return x("+".concat(e))},inputClass:"!p-0 !pe-4 !ps-14 !flex !items-center !w-full !appearance-none !transition !duration-300 !ease-in-out !text-heading !text-sm focus:!outline-none focus:!ring-0 !border !border-border-base !border-e-0 !rounded !rounded-e-none focus:!border-accent !h-12",dropdownClass:"focus:!ring-0 !border !border-border-base !shadow-350"}),(0,f.jsx)(r.Z,{loading:R,disabled:R,onClick:function(){M({phone_number:h},{onSuccess:function(e){var n;null!==e&&void 0!==e&&e.success&&(w(!0),Z(null===e||void 0===e||null===(n=e.sendOtpCode)||void 0===n?void 0:n.id));null!==e&&void 0!==e&&e.success||(console.log("text-otp-failed"),v(null===e||void 0===e?void 0:e.message))},onError:function(e){var n,t;v(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)}})},className:"!rounded-s-none",children:u("text-send-otp")})]}),p&&(0,f.jsx)(i.Z,{variant:"error",message:u(p),className:"mt-4",closeable:!0,onClose:function(){return v(null)}})]})}},77506:function(e,n,t){t.r(n);var r=t(4652),o=t(10799),s=t(39300),u=t(21446),c=t(39069),i=t(24246);n.default=function(){var e=(0,u.$G)("common").t,n=(0,r.X9)().data,t=n.customerId,a=n.contactNumber,l=n.profileId,d=(0,r.SO)().closeModal,f=(0,o.o)().mutate;return(0,i.jsxs)("div",{className:"p-5 sm:p-8 bg-light md:rounded-xl min-h-screen flex flex-col justify-center md:min-h-0",children:[(0,i.jsxs)("h1",{className:"text-heading font-semibold text-sm text-center mb-5 sm:mb-6",children:[e(a?"text-update":"text-add-new")," ",e("text-contact-number")]}),(0,i.jsx)(s.M,{defaultValue:a,onVerify:function(n){if(!t)return!1;f({id:t,profile:{id:l,contact:n}},{onSuccess:function(){c.Am.success(e("profile-update-successful"))},onError:function(n){c.Am.error(e("error-something-wrong"))}}),d()}})]})}}}]);