"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8554],{78554:function(t,e,n){n.d(e,{s:function(){return V}});var o=n(59312),r=n(27378),a=n(68689),i=n(56932),s=n(33031),d=n(78590),u=n(40312),l=n(35058),c=n(14519),f=n(14607),p=n(18096),h=n(97162);function v(){var t=(0,f.B)(1),e={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},n=(0,o.__assign)({},e),r={},a={},i=!1,u=null,l=0;function v(n,r){var a=e.lead,d=e.follow;i=!0,u=null;var l=!1,c=function(){l=!0,a&&a.scheduleRender(),d&&d.scheduleRender()},v=function(){i=!1,u=(0,s.$B)().timestamp};return r=r&&(0,h.ev)(r,"crossfade"),function(t,e,n){void 0===n&&(n={});var o=(0,p.i)(t)?t:(0,f.B)(t);return(0,h.b8)("",o,e,n),{stop:function(){return o.stop()}}}(t,n,(0,o.__assign)((0,o.__assign)({},r),{onUpdate:c,onComplete:function(){l?v():(t.set(n),s.ZP.read(v)),c()}}))}function m(){var n,o,i=(0,s.$B)().timestamp,u=e.lead,f=e.follow;if(i!==l&&u){l=i;var p=u.getLatestValues();Object.assign(r,p);var h=f?f.getLatestValues():e.prevValues;Object.assign(a,h);var v=t.get(),m=null!==(n=p.opacity)&&void 0!==n?n:1,w=null!==(o=null===h||void 0===h?void 0:h.opacity)&&void 0!==o?o:1;e.crossfadeOpacity&&f?(r.opacity=(0,d.C)(!1!==f.isVisible?0:w,m,g(v)),a.opacity=e.preserveFollowOpacity?w:(0,d.C)(w,0,y(v))):f||(r.opacity=(0,d.C)(w,m,v)),function(t,e,n,o,r,a){for(var i=0;i<C;i++){var s="border"+S[i]+"Radius",u=k(o,s),l=k(n,s);if((void 0!==u||void 0!==l)&&(u||(u=0),l||(l=0),"number"===typeof u&&"number"===typeof l)){var f=Math.max((0,d.C)(u,l,a),0);t[s]=e[s]=f}}if(o.rotate||n.rotate){var p=(0,d.C)(o.rotate||0,n.rotate||0,a);t.rotate=e.rotate=p}!r&&n.backgroundColor&&o.backgroundColor&&(t.backgroundColor=e.backgroundColor=(0,c.R)(o.backgroundColor,n.backgroundColor)(a))}(r,a,p,h||{},Boolean(f),v)}}return{isActive:function(){return r&&(i||(0,s.$B)().timestamp===u)},fromLead:function(t){return v(0,t)},toLead:function(o){var r=0;return e.prevValues||e.follow?n.lead===e.follow&&n.follow===e.lead&&(r=1-t.get()):r=1,t.set(r),v(1,o)},reset:function(){return t.set(1)},stop:function(){return t.stop()},getCrossfadeState:function(t){return m(),t===e.lead?r:t===e.follow?a:void 0},setOptions:function(t){n=e,e=t,r={},a={}},getLatestValues:function(){return r}}}var g=m(0,.5,u.Bn),y=m(.5,.95,u.GE);function m(t,e,n){return function(o){return o<t?0:o>e?1:n((0,l.Y)(t,e,o))}}var S=["TopLeft","TopRight","BottomLeft","BottomRight"],C=S.length;function k(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t.borderRadius}function w(){var t,e,n,r=new Set,s={leadIsExiting:!1},d=(0,o.__assign)({},s),u=v(),l=!1;return{add:function(t){t.setCrossfader(u),r.add(t),n&&(t.prevDragCursor=n),s.lead||(s.lead=t)},remove:function(t){r.delete(t)},getLead:function(){return s.lead},updateSnapshot:function(){if(s.lead){t=u.isActive()?u.getLatestValues():s.lead.getLatestValues(),e=s.lead.prevViewportBox;var o=i.o.get(s.lead);o&&o.isDragging&&(n=o.cursorProgress)}},clearSnapshot:function(){n=e=void 0},updateLeadAndFollow:function(){var e,n,i;d=(0,o.__assign)({},s);for(var c=Array.from(r),f=c.length;f--;f>=0){var p=c[f];if(n&&(null!==i&&void 0!==i||(i=p)),null!==n&&void 0!==n||(n=p),n&&i)break}s.lead=n,s.follow=i,s.leadIsExiting=(null===(e=s.lead)||void 0===e?void 0:e.presence)===a.z.Exiting,u.setOptions({lead:n,follow:i,prevValues:t,crossfadeOpacity:(null===i||void 0===i?void 0:i.isPresenceRoot)||(null===n||void 0===n?void 0:n.isPresenceRoot)}),s.lead===d.follow||d.lead===s.lead&&d.leadIsExiting===s.leadIsExiting||(l=!0)},animate:function(t,n){var o;if(void 0===n&&(n=!1),t===s.lead){n?t.pointTo(s.lead):t.setVisibility(!0);var r={},i=null===(o=s.follow)||void 0===o?void 0:o.getProjectionParent();if(i&&(r.prevParent=i),t.presence===a.z.Entering?r.originBox=s.follow?s.follow.prevViewportBox:e:t.presence===a.z.Exiting&&(r.targetBox=function(){var t;return null===(t=s.follow)||void 0===t?void 0:t.getLayoutState().layout}()),l){l=!1;var d=t.getDefaultTransition();t.presence===a.z.Entering?u.toLead(d):u.fromLead(d)}t.notifyLayoutReady(r)}else n?s.lead&&t.pointTo(s.lead):t.setVisibility(!1)}}}var E=n(60096),x=n(32968),_=n(45723);var L=n(51473),b=n(82971),V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new Set,e.stacks=new Map,e.hasMounted=!1,e.updateScheduled=!1,e.renderScheduled=!1,e.syncContext=(0,o.__assign)((0,o.__assign)({},(0,L.V)()),{syncUpdate:function(t){return e.scheduleUpdate(t)},forceUpdate:function(){e.syncContext=(0,o.__assign)({},e.syncContext),e.scheduleUpdate(!0)},register:function(t){return e.addChild(t)},remove:function(t){return e.removeChild(t)}}),e}return(0,o.__extends)(e,t),e.prototype.componentDidMount=function(){this.hasMounted=!0},e.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},e.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},e.prototype.startLayoutAnimation=function(){var t=this;this.renderScheduled=this.updateScheduled=!1;var e=this.props.type;this.children.forEach((function(t){t.isPresent?t.presence!==a.z.Entering&&(t.presence=t.presence===a.z.Exiting?a.z.Entering:a.z.Present):t.presence=a.z.Exiting})),this.updateStacks();var n={layoutReady:function(n){void 0!==n.getLayoutId()?t.getStack(n).animate(n,"crossfade"===e):n.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach((function(e){return t.syncContext.add(e)})),this.syncContext.flush(n),this.stacks.forEach((function(t){return t.clearSnapshot()}))},e.prototype.updateStacks=function(){this.stacks.forEach((function(t){return t.updateLeadAndFollow()}))},e.prototype.scheduleUpdate=function(t){void 0===t&&(t=!1),!t&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(t){!function(t){for(var e=!1,n={},o=0;o<_.r$.length;o++){var r="rotate"+_.r$[o];t.hasValue(r)&&0!==t.getStaticValue(r)&&(e=!0,n[r]=t.getStaticValue(r),t.setStaticValue(r,0))}if(e){for(var r in t.syncRender(),n)t.setStaticValue(r,n[r]);t.scheduleRender()}}(t),t.shouldResetTransform()&&t.resetTransform()})),this.children.forEach(b.x7),this.stacks.forEach((function(t){return t.updateSnapshot()})),!t&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},e.prototype.addChild=function(t){this.children.add(t),this.addToStack(t),t.presence=this.hasMounted?a.z.Entering:a.z.Present},e.prototype.removeChild=function(t){this.scheduleUpdate(),this.children.delete(t),this.removeFromStack(t)},e.prototype.addToStack=function(t){var e=this.getStack(t);null===e||void 0===e||e.add(t)},e.prototype.removeFromStack=function(t){var e=this.getStack(t);null===e||void 0===e||e.remove(t)},e.prototype.getStack=function(t){var e=t.getLayoutId();if(void 0!==e)return!this.stacks.has(e)&&this.stacks.set(e,w()),this.stacks.get(e)},e.prototype.render=function(){return r.createElement(E.WH.Provider,{value:this.syncContext},this.props.children)},e.contextType=x.v,e}(r.Component)}}]);