"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5717],{84908:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(38566),i=r(29204),o=r(65218),c=r(21446),a=r(58866),s=r(86677),l=r(38579),u=r(60042),d=r.n(u),f=r(17678),p=r(11817),x=r(57298),v=r(56141),m=r.n(v),h=r(90104),b=r.n(h),g=r(29816),j=r(31103),O=r(4652),y=r(23684),P=r(41219),w=r(47235),R=r(27378),N=r(49587),k=r(24246),E=function(e){var t,r,n,i=e.product,o=e.isSticky,a=(0,s.useRouter)(),u=(0,c.$G)("common").t,v=(0,O.SO)().closeModal,h=(0,N.Ch)().attributes,E=null!==i&&void 0!==i?i:{},S=E.name,D=E.slug,Z=E.image,C=E.unit,_=E.quantity,T=E.min_price,U=E.max_price,L=(0,p.ZP)({amount:null!==i&&void 0!==i&&i.sale_price?null===i||void 0===i?void 0:i.sale_price:null===i||void 0===i?void 0:i.price,baseAmount:null===i||void 0===i?void 0:i.price}),A=L.price,F=L.basePrice,I=(L.discount,(0,R.useMemo)((function(){return(0,x.y)(null===i||void 0===i?void 0:i.variations)}),[null===i||void 0===i?void 0:i.variations])),H=(0,w.V)(I,h),M={};H&&(M=null===i||void 0===i||null===(n=i.variation_options)||void 0===n?void 0:n.find((function(e){return m()(e.options.map((function(e){return e.value})).sort(),Object.values(h).sort())})));var G=!b()(I);return(0,k.jsx)("div",{className:d()("max-w-6xl h-auto w-full hidden md:block bg-light fixed top-0 left-1/2 transform -translate-x-1/2 z-50 px-8 py-6 shadow transition-all duration-300",{"invisible opacity-0 -translate-y-1/2":!o,"visible opacity-100 translate-y-0":o}),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("div",{className:d()("border border-border-200 border-opacity-70 rounded relative flex items-center justify-center overflow-hidden flex-shrink-0",{"w-28 h-28":!G,"w-40 lg:w-52 h-40 lg:h-52":G}),children:(0,k.jsx)(l.default,{src:null!==(t=null===Z||void 0===Z?void 0:Z.original)&&void 0!==t?t:P.Hb,alt:S,layout:"fill",objectFit:"contain",className:"product-image"})}),(0,k.jsxs)("div",{className:"px-8 flex flex-col justify-center me-auto overflow-hidden",children:[(0,k.jsx)("h3",{className:"font-semibold text-lg lg:text-xl tracking-tight text-heading truncate cursor-pointer transition-colors hover:text-accent",onClick:function(){return e="".concat(j.Z.PRODUCT,"/").concat(D),a.push(e),void v();var e},title:S,children:S}),C&&!G?(0,k.jsx)("span",{className:"text-sm font-normal text-body mt-2 block",children:C}):(0,k.jsx)("span",{className:"flex items-center mt-2",children:G&&(0,k.jsx)(g.Z,{selectedVariation:M,minPrice:T,maxPrice:U})})]}),(0,k.jsxs)("div",{className:d()("w-full flex flex-shrink-0",{"max-w-max":!G,"max-w-[40%]":G}),children:[!G&&(0,k.jsxs)("span",{className:"me-8 flex items-center ",children:[(0,k.jsx)("ins",{className:"text-xl lg:text-2xl font-semibold text-accent no-underline",children:A}),F&&(0,k.jsx)("del",{className:"text-sm lg:text-base font-normal text-muted ms-2",children:F})]}),(0,k.jsxs)("div",{className:"w-full",children:[(0,k.jsx)("div",{className:d()("flex flex-col overflow-y-auto justify-center",{"h-[140px]":G}),children:(0,k.jsx)(y.Z,{variations:I})}),(0,k.jsx)("div",{className:d()({"mt-4":G}),children:_>0?(0,k.jsx)(f.o,{data:i,variant:"big",variation:M,disabled:(null===(r=M)||void 0===r?void 0:r.is_disable)||!H}):(0,k.jsx)("div",{className:"bg-red-500 rounded text-sm text-light px-3 py-2",children:u("text-out-stock")})})]})]})]})})},S=r(83818),D=r(39338),Z=(0,o.default)((function(){return r.e(9202).then(r.bind(r,89202))}),{loadableGenerated:{webpack:function(){return[89202]},modules:["../components/products/details/popup.tsx -> ./related-products"]}}),C=function(e){var t=e.product,r=e.loading,o=(0,c.$G)("common").t,s=(0,D.KO)(S.f),l=(0,n.Z)(s,1)[0],u=null!==t&&void 0!==t?t:{},d=u.id,f=u.related_products;return r||!t?(0,k.jsx)("div",{className:"w-96 flex justify-center items-center h-96 bg-light relative",children:(0,k.jsx)(i.Z,{text:o("common:text-loading")})}):(0,k.jsx)(N.iv,{children:(0,k.jsxs)("article",{className:"bg-light w-full max-w-6xl xl:min-w-[1152px] relative z-[51] md:rounded-xl",children:[(0,k.jsx)(E,{product:t,isSticky:l}),(0,k.jsx)(a.Z,{product:t,backBtn:!1,isModal:!0}),(null===f||void 0===f?void 0:f.length)>1&&(0,k.jsx)("div",{className:"p-5 md:pb-10 lg:p-14 xl:p-16",children:(0,k.jsx)(Z,{products:f,currentProductId:d})})]})})},_=r(42317),T=function(e){var t=e.productSlug,r=(0,_.FA)(t),n=r.data,i=r.isLoading;return(0,k.jsx)(C,{product:n,loading:i})}},42317:function(e,t,r){r.d(t,{kN:function(){return y},FA:function(){return P}});var n=r(1717),i=r(31750),o=r(6952),c=r(96772),a=r(54242),s=r(67257),l=r(16933),u=r(88742),d=r.n(u),f=r(13857),p=r(50874),x=r(89517),v=r(56552),m=["data"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var j=new(function(e){(0,a.Z)(r,e);var t=g(r);function r(){return(0,c.Z)(this,r),t.apply(this,arguments)}return r}(f.b))(p.P.PRODUCTS),O=function(){var e=(0,o.Z)(d().mark((function e(t){var r,n,o,c,a,s,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.queryKey,n=t.pageParam,o=r[1],c={},!n){e.next=9;break}return e.next=6,j.get(n);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,j.find(o);case 11:c=e.sent;case 12:return s=(a=c).data,l=(0,i.Z)(a,m),e.abrupt("return",{data:s,paginatorInfo:(0,x.Q)(b({},l))});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){return(0,v.useInfiniteQuery)([p.P.PRODUCTS,e],O,b(b({},t),{},{getNextPageParam:function(e){return e.paginatorInfo.nextPageUrl}}))},P=function(e){return(0,v.useQuery)([p.P.PRODUCTS,e],(function(){return function(e){return j.findOne(e)}(e)}))}},89517:function(e,t,r){r.d(t,{Q:function(){return s}});var n=r(1717),i=r(44079),o=r.n(i);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){var t=o()(e);return a(a({},t),{},{hasMorePages:t.lastPage!==t.currentPage})}},48972:function(e,t,r){r.d(t,{S:function(){return o}});var n=r(86677),i=["ar","he"];function o(){var e=(0,n.useRouter)().locale;return e&&i.includes(e)?{isRTL:!0,alignLeft:"right",alignRight:"left"}:{isRTL:!1,alignLeft:"left",alignRight:"right"}}},31103:function(e,t,r){r.d(t,{Z:function(){return n}});var n={HOME:"/grocery",CHECKOUT:"/checkout",PROFILE:"/profile",CHANGE_PASSWORD:"/change-password",ORDERS:"/orders",REFUNDS:"/refunds",HELP:"/help",LOGOUT:"/logout",OFFERS:"/offers",ORDER_RECEIVED:"/order-received",PRODUCT:"/products",ORDER:"/order",PRIVACY:"/privacy",TERMS:"/terms",CONTACT:"/contact",SHOPS:"/shops"}}}]);